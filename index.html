<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Reading | BookMall</title>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <div class="logo" id="logo">
                    <a href="index.html#home">
                        <span class="logo-icon">ðŸ“š</span>
                        <span class="text">BookMall</span>
                    </a>
                </div>
                <div class="nav-links" id="nav-links">
                    <a href="index.html">Home</a>
                    <a href="#featured-books">Books</a>
                    <a href="index.html#categories">Categories</a>
                    <a href="about.html">About</a>
                    <a href="#contactus">Contact</a>
                </div>
                <div class="theme-toggle" id="theme-toggle">
                    ðŸŒ™ <!-- Moon icon for dark theme -->
                </div>
                <div class="menu-toggle" id="menu-toggle">â˜°</div>
            </nav>
        </div>
    </header>

    <!-- PDF Viewer Container -->
    <button id="fullscreen-button">Full Screen</button>
    <div class="pdf-viewer-container">
        <iframe id="pdf-viewer" src="" frameborder="0" sandbox="allow-scripts allow-same-origin"></iframe>
    </div>

    <h2 class="section-title">âœ¨ Featured Books</h2>
        
    <div class="books-grid" id="featured-books">
        <!-- Books will be loaded here from JS -->
    </div>

    <div class="pagination">
        <button id="prev-page">Previous</button>
        <div id="page-numbers"></div>
        <button id="next-page">Next</button>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section" id="about">
                    <h3 class="footer-title">About BookMall</h3>
                    <p>We're passionate about books and connecting readers with their next great read. Our mission is to make book discovery easy and enjoyable.</p>
                </div>
                <div class="footer-section">
                    <h3 class="footer-title" id="contactus">Contact Us</h3>
                    <form id="contact-form" class="contact-form">
                        <input type="text" id="name" placeholder="Your Name" required>
                        <input type="email" id="email" placeholder="Your Email" required>
                        <textarea id="message" placeholder="Your Message" rows="4" required></textarea>
                        <button type="submit">Send Message</button>
                    </form>
                </div>
                <div class="footer-section">
                    <h3 class="footer-title">Quick Links</h3>
                    <ul class="footer-links" id="quick-links">
                        <a href="https://whatsapp.com/channel/0029Vb5vL9LDuMRmc0mNvs3T">Whatsapp</a>
                        <br>
                        <a href="https://www.instagram.com/book.sphere7?igsh=MTVncHp4czA3bzY2Ng==">Instagram</a>
                        <br>
                        <a href="https://www.facebook.com/share/g/1ERrACB9KU/">Facebook</a>
                        <br>
                        <a href="https://www.reddit.com/user/Competitive_Wash_629/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button">Reddit</a>
                        <br>
                        <a href="mailto:books.era786@gmail.com">G-mail</a>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3 class="footer-title">Stay Connected</h3>
                    <p>Subscribe to our newsletter for updates and exclusive offers.</p>
                    <div class="newsletter">
                        <input type="email" placeholder="Your email address">
                        <button>Subscribe</button>
                    </div>
                </div>
            </div>
            <div class="copyright">
                Â© 2025 BookMall Bookstore. All rights reserved.
            </div>
        </div>
    </footer>

    <script>
        function setupMenuToggle() {
            const menuToggle = document.getElementById('menu-toggle');
            const navLinks = document.getElementById('nav-links');
        
            if (menuToggle && navLinks) {
                menuToggle.addEventListener('click', () => {
                    navLinks.classList.toggle('active');
                });
            } else {
                console.error('Menu toggle or nav links element not found!');
            }
        }
        
        // Call the function on page load
        document.addEventListener('DOMContentLoaded', () => {
            setupMenuToggle();
        });

        // Function to get the book ID from the URL query parameter
        function getBookIdFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('bookId');
        }

        // Function to fetch the book data and display the PDF
        async function displayPdf() {
            const bookId = getBookIdFromUrl();
            if (!bookId) {
                alert('Book ID not found in URL.');
                return;
            }

            // Fetch the book data from books.json
            const response = await fetch('books.json');
            const books = await response.json();
            const book = books.find(b => b.id === parseInt(bookId));

            if (book && book.embedLink) {
                // Set the iframe src to the book's embedLink
                document.getElementById('pdf-viewer').src = book.embedLink;
            } else {
                alert('Book not found or no embed link available.');
                document.body.innerHTML = '<p style="text-align: center; color: red;">Book not found or no embed link available.</p>';
            }
        }

        // Full-screen functionality
        const fullscreenButton = document.getElementById('fullscreen-button');
        const pdfViewer = document.getElementById('pdf-viewer');

        fullscreenButton.addEventListener('click', () => {
            if (pdfViewer.requestFullscreen) {
                pdfViewer.requestFullscreen();
            } else if (pdfViewer.mozRequestFullScreen) { // Firefox
                pdfViewer.mozRequestFullScreen();
            } else if (pdfViewer.webkitRequestFullscreen) { // Chrome, Safari, Opera
                pdfViewer.webkitRequestFullscreen();
            } else if (pdfViewer.msRequestFullscreen) { // IE/Edge
                pdfViewer.msRequestFullscreen();
            }
        });

        // Call the function on page load
        document.addEventListener('DOMContentLoaded', displayPdf);
    </script>

    <script src="script.js"></script>
</body>
</html>
